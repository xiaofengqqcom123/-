<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<h1>This is a Heading</h1>
<p>This is a paragraph.</p>

</body>
</html>
<script>

let pre = null
  let arr1 = {
    arr: [],
    startIndex: 0,
    endIndex: 0
}

const getMax2 = arr => {
  if (!arr1.arr?.length) {
      arr1.arr.push(arr[index])
  } else if(arr1.arr?.length === 1){
      arr1 = arr[index] === arr1[index - 1] ? {arr: [arr[index]], startIndex: index} : {
        ...arr1,
        arr: [arr[index - 1], arr[index]]
      }
  }
}

const maxTurbulenceSize = arr => {

  let pre = null
  let arr1 = {
    arr: [],
    startIndex: 0,
    endIndex: 0
  }

  arr.forEach((item, index) => {
    debugger
    if (!arr1.arr?.length) {
      arr1.arr.push(arr[index])
    } else if(arr1.arr?.length === 1){
        arr1 = arr[index] === arr1[index - 1] ? {arr: [arr[index]], startIndex: index} : {
          ...arr1,
          arr: [arr[index - 1], arr[index]]
        }
    } else {
      const type = arr1.arr[index - 2] > arr1.arr[index - 1] ? 'big' : 'small'
      switch(type) {
        case 'big': {
          if(arr[index] > arr[index -1]) {
            arr.arr1.push(arr[index])
          } else {
            pre = (!pre?.arr || pre?.arr.length < arr1.arr.length) ? {...arr1, endIndex: index - 1} : pre
            arr = {
              arr: [arr[index]],
              startIndex: index,
              endIndex: 0
            }
          }
          break;
        }
        case 'small': {
          if(arr[index] < arr[index -1]) {
            arr.arr1.push(arr[index])
          } else {
            pre = pre?.arr?.length < arr1.arr.length ? {...arr1, endIndex: index - 1} : pre
            arr = {
              arr: [arr[index]],
              startIndex: index,
              endIndex: 0
            }
          }
        }
        default:
          break;
      }

    }
  })
  console.log(pre, arr1)
  return pre?.arr?.length > arr1.arr.length ? pre.length : arr1.arr.length
}

let a = maxTurbulenceSize([9,4,2,10,7,8,8,1,9])
console.log(a)

</script>